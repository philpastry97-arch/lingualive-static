<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>LinguaLive — Traduction fiable FR ⇄ EN</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:#f6f7fb;color:#111}
    .wrap{max-width:720px;margin:0 auto;padding:16px}
    .card{background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 1px 2px rgba(0,0,0,.06);padding:14px}
    textarea{width:100%;min-height:120px;padding:10px;border:1px solid #e5e7eb;border-radius:10px}
    select,button{padding:10px;border:1px solid #e5e7eb;border-radius:10px;background:#fff}
    .row{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>LinguaLive — Traduction FR ⇄ EN</h1>
    <div class="card">
      <div class="row">
        <select id="dir">
          <option value="fr|en" selected>FR → EN</option>
          <option value="en|fr">EN → FR</option>
        </select>
        <button id="go">Traduire</button>
      </div>
      <textarea id="in">Bonjour, comment ça va ?</textarea>
      <p>Résultat :</p>
      <div id="out" class="card" style="min-height:2rem"></div>
    </div>
  </div>

  <script>
    async function translateMyMemory(text, pair){
      try{
        const r = await fetch(
          "https://api.mymemory.translated.net/get?q="+encodeURIComponent(text)+"&langpair="+pair
        );
        const d = await r.json();
        return d?.responseData?.translatedText || "(pas de traduction)";
      }catch{
        return "(erreur réseau)";
      }
    }

    document.getElementById('go').onclick = async ()=>{
      const text = document.getElementById('in').value.trim();
      const pair = document.getElementById('dir').value;
      document.getElementById('out').textContent = "Traduction en cours…";
      const out = await translateMyMemory(text,pair);
      document.getElementById('out').textContent = out;
    };
  </script>
</body>
</html>
